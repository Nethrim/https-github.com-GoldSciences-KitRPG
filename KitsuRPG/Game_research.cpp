#include "Game.h"
#include "Weapon.h"
#include "Armor.h"
#include "Profession.h"
#include "Menu.h"

void researchWeaponDefinition		(klib::CCharacter& adventurer)	{ static char menuItemText[256] = {}; static klib::SMenuItem<int32_t>	menuItems[klib::size(klib::weaponDefinitions)+1]; int32_t menuItemCount=0; for( uint32_t i=0; i<adventurer.Weapons.Count; ++i ) if( -1 == adventurer.ResearchedDefinitionsWeapon.FindElement(adventurer.Weapons.Slots[i].Index) )	{	sprintf_s(menuItemText, "%s Techonolgy", klib::weaponDefinitions[adventurer.Weapons.Slots[i].Index].Name.c_str());	menuItems[menuItemCount]	= {	adventurer.Weapons.Slots[i].Index, menuItemText };	menuItemCount++; } if( 0 == menuItemCount ) { printf("You don't have any weapon research available yet!\n"); return; } menuItems[menuItemCount] = {(int16_t)klib::size(klib::weaponDefinitions), "Back to tavern"}; menuItemCount++; int32_t selectedValue = klib::displayMenu("Select research to develop.", menuItems, menuItemCount); if(klib::size(klib::weaponDefinitions) == selectedValue) { printf("You exit the labs.\n"); return; } printf("You start researching %s", klib::weaponDefinitions[selectedValue].Name.c_str()); adventurer.ResearchedDefinitionsWeapon.AddElement((int32_t)selectedValue); };
void researchWeaponModifier			(klib::CCharacter& adventurer)	{ static char menuItemText[256] = {}; static klib::SMenuItem<int32_t>	menuItems[klib::size(klib::weaponDefinitions)+1]; int32_t menuItemCount=0; for( uint32_t i=0; i<adventurer.Weapons.Count; ++i ) if( -1 == adventurer.ResearchedDefinitionsWeapon.FindElement(adventurer.Weapons.Slots[i].Index) )	{	sprintf_s(menuItemText, "%s Techonolgy", klib::weaponDefinitions[adventurer.Weapons.Slots[i].Index].Name.c_str());	menuItems[menuItemCount]	= {	adventurer.Weapons.Slots[i].Index, menuItemText };	menuItemCount++; } if( 0 == menuItemCount ) { printf("You don't have any weapon research available yet!\n"); return; } menuItems[menuItemCount] = {(int16_t)klib::size(klib::weaponDefinitions), "Back to tavern"}; menuItemCount++; int32_t selectedValue = klib::displayMenu("Select research to develop.", menuItems, menuItemCount); if(klib::size(klib::weaponDefinitions) == selectedValue) { printf("You exit the labs.\n"); return; } printf("You start researching %s", klib::weaponDefinitions[selectedValue].Name.c_str()); adventurer.ResearchedDefinitionsWeapon.AddElement((int32_t)selectedValue); };
void researchWeaponLevel			(klib::CCharacter& adventurer)	{ static char menuItemText[256] = {}; static klib::SMenuItem<int32_t>	menuItems[klib::size(klib::weaponDefinitions)+1]; int32_t menuItemCount=0; for( uint32_t i=0; i<adventurer.Weapons.Count; ++i ) if( -1 == adventurer.ResearchedDefinitionsWeapon.FindElement(adventurer.Weapons.Slots[i].Index) )	{	sprintf_s(menuItemText, "%s Techonolgy", klib::weaponDefinitions[adventurer.Weapons.Slots[i].Index].Name.c_str());	menuItems[menuItemCount]	= {	adventurer.Weapons.Slots[i].Index, menuItemText };	menuItemCount++; } if( 0 == menuItemCount ) { printf("You don't have any weapon research available yet!\n"); return; } menuItems[menuItemCount] = {(int16_t)klib::size(klib::weaponDefinitions), "Back to tavern"}; menuItemCount++; int32_t selectedValue = klib::displayMenu("Select research to develop.", menuItems, menuItemCount); if(klib::size(klib::weaponDefinitions) == selectedValue) { printf("You exit the labs.\n"); return; } printf("You start researching %s", klib::weaponDefinitions[selectedValue].Name.c_str()); adventurer.ResearchedDefinitionsWeapon.AddElement((int32_t)selectedValue); };
void researchArmorDefinition		(klib::CCharacter& adventurer)	{ static char menuItemText[256] = {}; static klib::SMenuItem<int32_t>	menuItems[klib::size(klib::weaponDefinitions)+1]; int32_t menuItemCount=0; for( uint32_t i=0; i<adventurer.Weapons.Count; ++i ) if( -1 == adventurer.ResearchedDefinitionsWeapon.FindElement(adventurer.Weapons.Slots[i].Index) )	{	sprintf_s(menuItemText, "%s Techonolgy", klib::weaponDefinitions[adventurer.Weapons.Slots[i].Index].Name.c_str());	menuItems[menuItemCount]	= {	adventurer.Weapons.Slots[i].Index, menuItemText };	menuItemCount++; } if( 0 == menuItemCount ) { printf("You don't have any weapon research available yet!\n"); return; } menuItems[menuItemCount] = {(int16_t)klib::size(klib::weaponDefinitions), "Back to tavern"}; menuItemCount++; int32_t selectedValue = klib::displayMenu("Select research to develop.", menuItems, menuItemCount); if(klib::size(klib::weaponDefinitions) == selectedValue) { printf("You exit the labs.\n"); return; } printf("You start researching %s", klib::weaponDefinitions[selectedValue].Name.c_str()); adventurer.ResearchedDefinitionsWeapon.AddElement((int32_t)selectedValue); };
void researchArmorModifier			(klib::CCharacter& adventurer)	{ static char menuItemText[256] = {}; static klib::SMenuItem<int32_t>	menuItems[klib::size(klib::weaponDefinitions)+1]; int32_t menuItemCount=0; for( uint32_t i=0; i<adventurer.Weapons.Count; ++i ) if( -1 == adventurer.ResearchedDefinitionsWeapon.FindElement(adventurer.Weapons.Slots[i].Index) )	{	sprintf_s(menuItemText, "%s Techonolgy", klib::weaponDefinitions[adventurer.Weapons.Slots[i].Index].Name.c_str());	menuItems[menuItemCount]	= {	adventurer.Weapons.Slots[i].Index, menuItemText };	menuItemCount++; } if( 0 == menuItemCount ) { printf("You don't have any weapon research available yet!\n"); return; } menuItems[menuItemCount] = {(int16_t)klib::size(klib::weaponDefinitions), "Back to tavern"}; menuItemCount++; int32_t selectedValue = klib::displayMenu("Select research to develop.", menuItems, menuItemCount); if(klib::size(klib::weaponDefinitions) == selectedValue) { printf("You exit the labs.\n"); return; } printf("You start researching %s", klib::weaponDefinitions[selectedValue].Name.c_str()); adventurer.ResearchedDefinitionsWeapon.AddElement((int32_t)selectedValue); };
void researchArmorLevel				(klib::CCharacter& adventurer)	{ static char menuItemText[256] = {}; static klib::SMenuItem<int32_t>	menuItems[klib::size(klib::weaponDefinitions)+1]; int32_t menuItemCount=0; for( uint32_t i=0; i<adventurer.Weapons.Count; ++i ) if( -1 == adventurer.ResearchedDefinitionsWeapon.FindElement(adventurer.Weapons.Slots[i].Index) )	{	sprintf_s(menuItemText, "%s Techonolgy", klib::weaponDefinitions[adventurer.Weapons.Slots[i].Index].Name.c_str());	menuItems[menuItemCount]	= {	adventurer.Weapons.Slots[i].Index, menuItemText };	menuItemCount++; } if( 0 == menuItemCount ) { printf("You don't have any weapon research available yet!\n"); return; } menuItems[menuItemCount] = {(int16_t)klib::size(klib::weaponDefinitions), "Back to tavern"}; menuItemCount++; int32_t selectedValue = klib::displayMenu("Select research to develop.", menuItems, menuItemCount); if(klib::size(klib::weaponDefinitions) == selectedValue) { printf("You exit the labs.\n"); return; } printf("You start researching %s", klib::weaponDefinitions[selectedValue].Name.c_str()); adventurer.ResearchedDefinitionsWeapon.AddElement((int32_t)selectedValue); };
void researchProfessionDefinition	(klib::CCharacter& adventurer)	{ static char menuItemText[256] = {}; static klib::SMenuItem<int32_t>	menuItems[klib::size(klib::weaponDefinitions)+1]; int32_t menuItemCount=0; for( uint32_t i=0; i<adventurer.Weapons.Count; ++i ) if( -1 == adventurer.ResearchedDefinitionsWeapon.FindElement(adventurer.Weapons.Slots[i].Index) )	{	sprintf_s(menuItemText, "%s Techonolgy", klib::weaponDefinitions[adventurer.Weapons.Slots[i].Index].Name.c_str());	menuItems[menuItemCount]	= {	adventurer.Weapons.Slots[i].Index, menuItemText };	menuItemCount++; } if( 0 == menuItemCount ) { printf("You don't have any weapon research available yet!\n"); return; } menuItems[menuItemCount] = {(int16_t)klib::size(klib::weaponDefinitions), "Back to tavern"}; menuItemCount++; int32_t selectedValue = klib::displayMenu("Select research to develop.", menuItems, menuItemCount); if(klib::size(klib::weaponDefinitions) == selectedValue) { printf("You exit the labs.\n"); return; } printf("You start researching %s", klib::weaponDefinitions[selectedValue].Name.c_str()); adventurer.ResearchedDefinitionsWeapon.AddElement((int32_t)selectedValue); };
void researchProfessionModifier		(klib::CCharacter& adventurer)	{ static char menuItemText[256] = {}; static klib::SMenuItem<int32_t>	menuItems[klib::size(klib::weaponDefinitions)+1]; int32_t menuItemCount=0; for( uint32_t i=0; i<adventurer.Weapons.Count; ++i ) if( -1 == adventurer.ResearchedDefinitionsWeapon.FindElement(adventurer.Weapons.Slots[i].Index) )	{	sprintf_s(menuItemText, "%s Techonolgy", klib::weaponDefinitions[adventurer.Weapons.Slots[i].Index].Name.c_str());	menuItems[menuItemCount]	= {	adventurer.Weapons.Slots[i].Index, menuItemText };	menuItemCount++; } if( 0 == menuItemCount ) { printf("You don't have any weapon research available yet!\n"); return; } menuItems[menuItemCount] = {(int16_t)klib::size(klib::weaponDefinitions), "Back to tavern"}; menuItemCount++; int32_t selectedValue = klib::displayMenu("Select research to develop.", menuItems, menuItemCount); if(klib::size(klib::weaponDefinitions) == selectedValue) { printf("You exit the labs.\n"); return; } printf("You start researching %s", klib::weaponDefinitions[selectedValue].Name.c_str()); adventurer.ResearchedDefinitionsWeapon.AddElement((int32_t)selectedValue); };
void researchProfessionLevel		(klib::CCharacter& adventurer)	{ static char menuItemText[256] = {}; static klib::SMenuItem<int32_t>	menuItems[klib::size(klib::weaponDefinitions)+1]; int32_t menuItemCount=0; for( uint32_t i=0; i<adventurer.Weapons.Count; ++i ) if( -1 == adventurer.ResearchedDefinitionsWeapon.FindElement(adventurer.Weapons.Slots[i].Index) )	{	sprintf_s(menuItemText, "%s Techonolgy", klib::weaponDefinitions[adventurer.Weapons.Slots[i].Index].Name.c_str());	menuItems[menuItemCount]	= {	adventurer.Weapons.Slots[i].Index, menuItemText };	menuItemCount++; } if( 0 == menuItemCount ) { printf("You don't have any weapon research available yet!\n"); return; } menuItems[menuItemCount] = {(int16_t)klib::size(klib::weaponDefinitions), "Back to tavern"}; menuItemCount++; int32_t selectedValue = klib::displayMenu("Select research to develop.", menuItems, menuItemCount); if(klib::size(klib::weaponDefinitions) == selectedValue) { printf("You exit the labs.\n"); return; } printf("You start researching %s", klib::weaponDefinitions[selectedValue].Name.c_str()); adventurer.ResearchedDefinitionsWeapon.AddElement((int32_t)selectedValue); };